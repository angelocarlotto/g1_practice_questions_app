// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

//npx prisma generate 

generator client {
  provider = "prisma-client-js"
   previewFeatures = ["relationJoins"]
  output   = "./generated/client"
  // provider = "postgresql"
  //url = env("POSTGRES_PRISMA_URL") // uses connection pooling
  //directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}


model step{
  id Int     @id @default(autoincrement())
  subdivisionId Int
  categoryId Int
  num Int
  title String
  shortTitle String
  titlePart1 String
  titlePart2 String
  description String
  tests test[]
}


model test {
  id                  Int     @id @default(autoincrement())
  type                Int
  allowedMistakes     Int
  numberOfQuestions   Int
  questionPhrase      String
  ageToApply          String
  orderIndex          Int
  endorsementCode     String
  stepId              Int
  premiumOnly         Int
  fullDescription     String
  cover               String
  step                step   @relation(fields: [stepId], references: [id])
  test_name   test_name[]
}




model test_name{
t_id Int
n_id Int
test          test          @relation(fields: [t_id], references: [id])
test_names    test_names    @relation(fields: [n_id], references: [id])
@@id(name: "test_nameId", [t_id, n_id])
}


model test_names{

    id Int     @id @default(autoincrement())
    title String
    shortTitle String
    description String
    test_name test_name[]
}